<h1>
  Edit visit details for <%= @encounter.patient.firstname %> <%= @encounter.patient.lastname %> (<%= @encounter.created_at.to_date %>)
</h1>

<hr>

<form action="/update_encounter/<%= @encounter.id %>" method="post">

  <div class="row mb-3">
    <input type="hidden" name="patient_id" value="<%= @encounter.patient_id %>">
    
    <div class="col">
      <div class="form-group">
        <label for="patient_name">
          Patient
        </label>
    
        <input type="text" id="patient_name" name="patient_name" class="form-control" value="<%= Patient.find(@encounter.patient_id).fullname %>" readonly>
    
      </div>
    </div>
  
    <div class="col">
      <div class="form-group">
        <label for="provider_id">
          Seen by
        </label>
    
        <%= select_tag(:provider_id, options_from_collection_for_select(Provider.all, :id, :fullname, @encounter.provider_id), :class => "form-control") %>
      </div>
    </div>
  
    <div class="col">
      <div class="form-group">
        <label for="approving_provider_id">
          Approving provider
        </label>
    
        <%= select_tag(:approving_provider_id, options_from_collection_for_select(Provider.all, :id, :fullname, @encounter.approving_provider_id), :class => "form-control") %>
      </div>
    </div>  
  </div>  
  
  <div class="row mb-3">
    <div class="col-8 pt-3">
      <h2>Visit</h2>
      <div class="form-group">
        <label for="chief_complaint">
          Chief complaint
        </label>
    
        <input type="text" id="chief_complaint" name="chief_complaint" class="form-control" value="<%= @encounter.chief_complaint %>">
      </div>
    
      <div class="form-group pb-3">
        <label for="notes">
          Notes
        </label>
    
        <textarea class="form-control" id="notes" name="notes" rows="4"><%= @encounter.notes %></textarea>
      </div>
    
      <div class="form-group">
        <label for="location_id">
          Location
        </label>
    
        <%= select_tag(:location_id, options_from_collection_for_select(Location.all, :id, :name, @encounter.location_id), :class => "form-control") %>
      </div>
    </div>
    
    <div class="col-4 bg-primary rounded pt-3">
      <h2>Vitals</h2>
      <div class="form-group">
        <label for="height">
          Height (cm)
        </label>
    
        <input type="text" id="height" name="height" class="form-control" value="<%= @encounter.height %>">
      </div>
    
      <div class="form-group">
        <label for="weight">
          Weight (kg)
        </label>
    
        <input type="text" id="weight" name="weight" class="form-control" value="<%= @encounter.weight %>">
      </div>
      
      <div class="form-group">
        <label for="blood_pressure">
          Blood pressure
        </label>
    
        <input type="text" id="blood_pressure" name="blood_pressure" class="form-control" value="<%= @encounter.blood_pressure %>">
      </div>
  
      <div class="form-group">
        <label for="temperature">
          Temperature (&degF)
        </label>
    
        <input type="text" id="temperature" name="temperature" class="form-control" value="<%= @encounter.temperature %>">
      </div>
    </div>
  </div>
    
      <button class="btn btn-block btn-outline-secondary">
        Update encounter
      </button>
</form>

<hr>

<a href="/encounters">
  Go back
</a>
